# Bubble Sort

## Zamiana wartości zmiennych (Python idiom)

```python
x = 1
y = 100
x, y = y, x
```

### Co tu się dzieje

Python pozwala na **jednoczesne przypisanie wielu wartości**.
Pod spodem tworzona jest krotka tymczasowa, dzięki czemu:

- nie potrzebujesz zmiennej pomocniczej,
- operacja jest czytelna i bezpieczna,
- idiom jest powszechnie używany w sortowaniach.

### Do zapamiętania

* idiom Pythona
* zero boilerplate
* idealny do algorytmów in-place

---

## Bubble Sort – wersja podstawowa

Bubble Sort to najprostszy algorytm sortowania.
Polega na **wielokrotnym przechodzeniu po liście** i zamienianiu sąsiednich elementów.

```python
def sort_bubble(list):
    is_change = True
    while is_change:
        is_change = False
        for i in range(len(list) - 1):
            if list[i] > list[i + 1]:
                list[i], list[i + 1] = list[i + 1], list[i]
                is_change = True
```

### Jak to działa mentalnie

- największe elementy „wypływają" na koniec listy
- każda iteracja skraca obszar chaosu
- brak zamian = lista posortowana

### Właściwości

* czas: **O(n²)**
* stabilny
* in-place
* bardzo wolny – tylko edukacyjnie

### Przykład wykonania krok po kroku

Wejściowa lista: `[5, 2, 8, 1, 9]`

**Iteracja 1 (przejście przez całą listę):**
- Porównanie: `5 > 2` → TAK → swap → `[2, 5, 8, 1, 9]`
- Porównanie: `5 > 8` → NIE
- Porównanie: `8 > 1` → TAK → swap → `[2, 5, 1, 8, 9]`
- Porównanie: `8 > 9` → NIE
- Były zmiany, kontynuujemy

**Iteracja 2:**
- Porównanie: `2 > 5` → NIE
- Porównanie: `5 > 1` → TAK → swap → `[2, 1, 5, 8, 9]`
- Porównanie: `5 > 8` → NIE
- Porównanie: `8 > 9` → NIE
- Były zmiany, kontynuujemy

**Iteracja 3:**
- Porównanie: `2 > 1` → TAK → swap → `[1, 2, 5, 8, 9]`
- Porównanie: `2 > 5` → NIE
- Porównanie: `5 > 8` → NIE
- Porównanie: `8 > 9` → NIE
- Były zmiany, kontynuujemy

**Iteracja 4:**
- Porównanie: `1 > 2` → NIE
- Porównanie: `2 > 5` → NIE
- Porównanie: `5 > 8` → NIE
- Porównanie: `8 > 9` → NIE
- Brak zmian → lista posortowana!

Wynik: `[1, 2, 5, 8, 9]`

---

## Bubble Sort – wersja zoptymalizowana

```python
def sort_bubble2(list):
    max_index = len(list) - 1
    for max_not_sorted_index in range(max_index, 0, -1):
        is_change = False
        for i in range(max_not_sorted_index):
            if list[i] > list[i + 1]:
                list[i], list[i + 1] = list[i + 1], list[i]
                is_change = True
        if not is_change:
            break
```

### Różnice w stosunku do wersji podstawowej

- ogranicza zakres przeszukiwania w każdej iteracji
- przerywa działanie gdy brak zmian (lista już posortowana)
- bardziej efektywny dla prawie posortowanych danych

### Przykład wykonania krok po kroku (wersja zoptymalizowana)

Wejściowa lista: `[5, 2, 8, 1, 9]`

**Iteracja 1 (max_not_sorted_index = 4):**
- Porównanie: `5 > 2` → TAK → swap → `[2, 5, 8, 1, 9]`
- Porównanie: `5 > 8` → NIE
- Porównanie: `8 > 1` → TAK → swap → `[2, 5, 1, 8, 9]`
- Porównanie: `8 > 9` → NIE
- Były zmiany, kontynuujemy

**Iteracja 2 (max_not_sorted_index = 3):**
- Porównanie: `2 > 5` → NIE
- Porównanie: `5 > 1` → TAK → swap → `[2, 1, 5, 8, 9]`
- Porównanie: `5 > 8` → NIE
- Były zmiany, kontynuujemy

**Iteracja 3 (max_not_sorted_index = 2):**
- Porównanie: `2 > 1` → TAK → swap → `[1, 2, 5, 8, 9]`
- Porównanie: `2 > 5` → NIE
- Były zmiany, kontynuujemy

**Iteracja 4 (max_not_sorted_index = 1):**
- Porównanie: `1 > 2` → NIE
- Brak zmian → lista posortowana!

Wynik: `[1, 2, 5, 8, 9]`

Zauważ: w każdej iteracji sprawdzamy o jeden element mniej na końcu (bo największy już "wypłynął").
